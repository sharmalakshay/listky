{% extends "base.html" %}

{% block title %}Create List - {{ username }} - listky.top{% endblock %}

{% block extra_head %}
<script src="{{ url_for('static', path='/clean-editor-v3.js') }}?v=final" defer></script>
{% endblock %}

{% block content %}
<h1>Create New List</h1>

{% if error %}
<div class="alert alert-error">
    {{ error }}
</div>
{% endif %}

<form method="post" action="/{{ username }}/create">
    <div class="form-group">
        <label for="title">List Title</label>
        <input type="text" id="title" name="title" required 
               maxlength="200" 
               placeholder="My Awesome List"
               value="{{ title or '' }}">
        <small>1-200 characters. Make it descriptive and engaging!</small>
    </div>
    
    <div class="form-group">
        <label for="slug">URL Slug</label>
        <input type="text" id="slug" name="slug" required 
               pattern="[a-zA-Z0-9-]{1,50}"
               maxlength="50"
               placeholder="my-awesome-list"
               value="{{ slug or '' }}">
        <small>1-50 characters, letters, numbers, and hyphens only. This becomes your list's URL: /{{ username }}/your-slug</small>
    </div>
    
    <div class="form-group">
        <label for="content">List Content</label>
        <textarea id="content" name="content" required 
                  rows="10" 
                  maxlength="10000"
                  placeholder="â€¢ Item 1&#10;â€¢ Item 2&#10;â€¢ Item 3">{{ content or '' }}</textarea>
        <small>The rich text editor will load automatically. URLs will become clickable links.</small>
    </div>
    
    <div class="form-group">
        <label class="checkbox-wrapper">
            <input type="checkbox" name="is_public" id="is_public" 
                   value="true" {% if is_public %}checked{% endif %}>
            Make this list public
        </label>
        <small>Public lists can be viewed by anyone and may appear in trending. Private lists are only accessible to you.</small>
    </div>
    
    <div class="actions">
        <button type="submit" class="btn">ğŸ“ Create List</button>
        <a href="/{{ username }}" class="btn btn-secondary">Cancel</a>
    </div>
</form>

<div class="back">
    <a href="/{{ username }}">â† Back to My Profile</a>
</div>
{% endblock %}